!function(){"use strict";console.log("üöÄ Expanded Menu Plugin v2.1.4 - Starting...");const n=document.currentScript||function(){const n=document.getElementsByTagName("script");return n[n.length-1]}();const t=function(){const t=n.src,o=new URL(t),e=new URLSearchParams(o.search);function a(n){return n?"transparent"===(n=decodeURIComponent(n)).toLowerCase()?"transparent":/^[0-9A-Fa-f]{6}$/.test(n)?"#"+n:(n.startsWith("#"),n):null}return{containerWidth:e.get("containerWidth")||"100%",menuSpacing:e.get("menuSpacing")||"60px",tabletSpacing:e.get("tabletSpacing")||"30px",mobileSpacing:e.get("mobileSpacing")||"20px",centerMenu:"false"!==e.get("centerMenu"),mobileMode:e.get("mobileMode")||"custom",stickyMenu:"false"!==e.get("stickyMenu"),stickyTop:e.get("stickyTop")||"0",bgColor:a(e.get("bgColor")),fontColor:a(e.get("fontColor")),fontFamily:e.get("fontFamily")?decodeURIComponent(e.get("fontFamily")):null,fontSize:e.get("fontSize")||"16",fontWeight:e.get("fontWeight")||"500",hoverOpacity:e.get("hoverOpacity")||"0.7",itemBorderColor:a(e.get("itemBorderColor")),itemBorderWidth:e.get("itemBorderWidth")||"1",sectionBorderColor:a(e.get("sectionBorderColor")),sectionBorderWidth:e.get("sectionBorderWidth")||"1",showItemBorders:"false"!==e.get("showItemBorders"),showSectionBorder:"false"!==e.get("showSectionBorder"),dropdownBgColor:a(e.get("dropdownBgColor")),dropdownShadow:"false"!==e.get("dropdownShadow")}}();function o(){document.querySelectorAll('.header, .Header, header, [data-nc-group="header"]').forEach(n=>{n.style.cssText="\n        display: none !important;\n        visibility: hidden !important;\n        height: 5 !important;\n        min-height: 5 !important;\n        max-height: 5 !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        position: absolute !important;\n        top: -5px !important;\n        left: 0px !important;\n        pointer-events: none !important;\n        overflow: hidden !important;\n      "}),document.body.style.paddingTop="0",document.body.style.marginTop="0";const n=document.querySelector("#page .page-section:first-child, .page-section:first-child");n&&(n.style.paddingTop="0",n.style.marginTop="0");const t=document.querySelector("#page");t&&(t.style.paddingTop="0",t.style.marginTop="0"),console.log("‚úÖ Forced header hiding via inline styles")}function e(n){const o=document.createElement("div");o.className="anavo-menu-wrapper",o.id="anavo-menu-"+Date.now();let e="\n      display: block !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n      width: 100% !important;\n      z-index: 99999 !important;\n    ";if(t.stickyMenu?e+=`\n        position: fixed !important;\n        top: ${t.stickyTop}px !important;\n        left: 0 !important;\n        right: 0 !important;\n      `:e+="position: relative !important;\n",null!==t.bgColor?(e+=`background: ${t.bgColor} !important;\n`,e+=`background-color: ${t.bgColor} !important;\n`):(e+="background: var(--white, #fff) !important;\n",e+="background-color: var(--white, #fff) !important;\n"),t.showSectionBorder){const n=t.sectionBorderColor||"var(--lightAccentColor, #e8e8e8)";e+=`border-bottom: ${t.sectionBorderWidth}px solid ${n} !important;\n`}o.style.cssText=e,o.innerHTML=n,document.body.insertBefore(o,document.body.firstChild),console.log("‚úÖ Inserted menu at top of body"),t.stickyMenu&&setTimeout(()=>{const n=o.offsetHeight;document.body.style.paddingTop=n+"px",console.log(`‚úÖ Added body padding: ${n}px`)},100),setTimeout(()=>{const n=document.querySelector(".anavo-custom-menu");if(n){console.log("‚úÖ Menu verified in DOM");const t=n.getBoundingClientRect(),o=n.closest(".anavo-menu-wrapper"),e=o?window.getComputedStyle(o).backgroundColor:"N/A";console.log("üìê Menu dimensions:",{width:t.width,height:t.height,position:window.getComputedStyle(o).position,top:window.getComputedStyle(o).top,zIndex:window.getComputedStyle(o).zIndex,wrapperBackgroundColor:e})}},150),function(){const n=document.querySelectorAll(".anavo-menu-folder");n.forEach(t=>{const o=t.querySelector(".anavo-menu-folder-toggle");o&&o.addEventListener("click",o=>{window.innerWidth<=800&&(o.preventDefault(),t.classList.toggle("anavo-folder-open"),n.forEach(n=>{n!==t&&n.classList.remove("anavo-folder-open")}))})}),console.log(`‚úÖ Initialized ${n.length} folder toggles`)}()}async function a(){try{console.log("üîß Starting initialization..."),o();const n=await new Promise(n=>{const t=[".header-nav-list",".header-menu-nav-list",'[data-folder="root"] .header-nav-list',".header-nav-wrapper .header-nav-list"];function o(){for(const o of t){const t=document.querySelector(o);if(t&&t.children.length>0)return console.log("‚úÖ Found Squarespace navigation:",o),n(t),!0}return!1}if(o())return;let e=0;const a=setInterval(()=>{e++,o()?clearInterval(a):e>=50&&(clearInterval(a),console.error("‚ùå Squarespace navigation not found after 5 seconds"),n(null))},100)});if(!n)return void console.error("‚ùå Failed to find Squarespace navigation - aborting");const a=function(n){if(!n)return console.error("‚ùå Cannot extract menu items - nav list is null"),[];const t=[],o=n.querySelectorAll(".header-nav-item");return console.log(`üìã Found ${o.length} menu items`),o.forEach((n,o)=>{const e=n.querySelector("a");if(!e)return void console.warn(`‚ö†Ô∏è Item ${o} has no link, skipping`);const a={text:e.textContent.trim(),href:e.getAttribute("href")||"#",target:e.getAttribute("target")||"_self",isFolder:n.classList.contains("header-nav-item--folder"),isActive:n.classList.contains("header-nav-item--active"),children:[]};if(a.isFolder){const t=n.querySelector(".header-nav-folder-content");t&&(t.querySelectorAll(".header-nav-folder-item a").forEach(n=>{a.children.push({text:n.textContent.trim(),href:n.getAttribute("href")||"#",target:n.getAttribute("target")||"_self"})}),console.log(`  üìÅ Folder "${a.text}" has ${a.children.length} children`))}t.push(a),console.log(`  ‚úì ${o+1}. ${a.text} ${a.isActive?"(active)":""}`)}),t}(n);if(0===a.length)return void console.error("‚ùå No menu items extracted - aborting");const i=function(n){if(!n||0===n.length)return console.error("‚ùå No menu items to build"),'<nav class="anavo-custom-menu"><p style="color:red;font-size:20px;padding:20px;">No menu items found</p></nav>';const t=n.map((n,t)=>{if(n.isFolder&&n.children.length>0){const o=n.children.map(n=>`<a href="${n.href}" target="${n.target}" class="anavo-menu-dropdown-item">\n            ${n.text}\n          </a>`).join("");return`\n          <div class="anavo-menu-item anavo-menu-folder" data-folder-index="${t}">\n            <span class="anavo-menu-link anavo-menu-folder-toggle">\n              ${n.text}\n              <svg class="anavo-menu-arrow" width="10" height="6" viewBox="0 0 10 6">\n                <path d="M1 1l4 4 4-4" stroke="currentColor" fill="none" stroke-width="1.5"/>\n              </svg>\n            </span>\n            <div class="anavo-menu-dropdown">\n              ${o}\n            </div>\n          </div>\n        `}return`\n          <div class="anavo-menu-item ${n.isActive?"anavo-menu-item--active":""}">\n            <a href="${n.href}" target="${n.target}" class="anavo-menu-link">\n              ${n.text}\n            </a>\n          </div>\n        `}).join("");return console.log("‚úÖ Built custom menu HTML"),`<nav class="anavo-custom-menu" role="navigation">${t}</nav>`}(a);!function(){const n=document.createElement("style");n.id="anavo-hide-squarespace-nav",n.textContent='\n      .header-nav,\n      .header-nav-wrapper,\n      .header-nav-list,\n      .header-display-desktop,\n      .header-menu,\n      .header-menu-bg,\n      .header-menu-nav-wrapper,\n      .header-burger,\n      [data-nc-element="header-nav"] {\n        display: none !important;\n        visibility: hidden !important;\n      }\n    ',document.head.appendChild(n),console.log("‚úÖ Hid Squarespace navigation")}(),function(){if(document.getElementById("anavo-expanded-menu-styles"))return void console.log("‚ö†Ô∏è Styles already injected");const n=t.centerMenu?"\n      .anavo-custom-menu {\n        justify-content: center !important;\n      }\n    ":"",o=t.fontColor||"var(--menuTextColor, #000)",e=t.fontFamily||'var(--heading-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif)',a=t.itemBorderColor||"var(--lightAccentColor, #e8e8e8)",i=t.dropdownBgColor||"var(--white, #ffffff)",r=t.showItemBorders?`border-bottom: ${t.itemBorderWidth}px solid ${a} !important;`:"",p=t.dropdownShadow?"box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;":"box-shadow: none !important;",m=t.stickyMenu?`\n      position: fixed !important;\n      top: ${t.stickyTop}px !important;\n      left: 0 !important;\n      right: 0 !important;\n    `:"\n      position: relative !important;\n    ",d=document.createElement("style");d.id="anavo-expanded-menu-styles",d.textContent=`\n      /* ANAVO CUSTOM MENU v2.1.4 - STICKY + NO HEADER SPACE */\n      \n      div.anavo-menu-wrapper,\n      div[class*="anavo-menu"] {\n        display: block !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        width: 100% !important;\n        height: auto !important;\n        z-index: 99999 !important;\n        ${m}\n        overflow: visible !important;\n        clip: auto !important;\n        clip-path: none !important;\n        transform: none !important;\n      }\n\n      nav.anavo-custom-menu {\n        display: flex !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        align-items: center !important;\n        gap: ${t.menuSpacing} !important;\n        width: 100% !important;\n        max-width: ${t.containerWidth} !important;\n        margin: 0 auto !important;\n        padding: 20px 2vw !important;\n        font-family: ${e} !important;\n        min-height: 60px !important;\n        box-sizing: border-box !important;\n        ${n}\n      }\n\n      div.anavo-menu-item {\n        display: flex !important;\n        flex-direction: column !important;\n        align-items: center !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        position: relative !important;\n        white-space: nowrap !important;\n      }\n\n      a.anavo-menu-link,\n      span.anavo-menu-link {\n        display: inline-block !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        padding: 8px 12px !important;\n        padding-bottom: 12px !important;\n        color: ${o} !important;\n        text-decoration: none !important;\n        font-weight: ${t.fontWeight} !important;\n        font-size: ${t.fontSize}px !important;\n        font-family: ${e} !important;\n        letter-spacing: 0.05em !important;\n        transition: opacity 0.2s ease !important;\n        cursor: pointer !important;\n        ${r}\n        text-align: center !important;\n      }\n\n      a.anavo-menu-link:hover,\n      span.anavo-menu-link:hover {\n        opacity: ${t.hoverOpacity} !important;\n      }\n\n      .anavo-menu-item--active .anavo-menu-link {\n        font-weight: ${Math.min(parseInt(t.fontWeight)+200,900)} !important;\n      }\n\n      .anavo-menu-folder {\n        position: relative !important;\n      }\n\n      .anavo-menu-folder-toggle {\n        display: flex !important;\n        align-items: center !important;\n        gap: 5px !important;\n      }\n\n      .anavo-menu-arrow {\n        transition: transform 0.2s ease !important;\n        color: ${o} !important;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-arrow {\n        transform: rotate(180deg) !important;\n      }\n\n      .anavo-menu-dropdown {\n        position: absolute !important;\n        top: 100% !important;\n        left: 0 !important;\n        min-width: 200px !important;\n        background: ${i} !important;\n        ${p}\n        border-radius: 4px !important;\n        padding: 8px 0 !important;\n        opacity: 0 !important;\n        visibility: hidden !important;\n        transform: translateY(-10px) !important;\n        transition: opacity 0.2s, transform 0.2s, visibility 0.2s !important;\n        z-index: 100000 !important;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-dropdown {\n        opacity: 1 !important;\n        visibility: visible !important;\n        transform: translateY(0) !important;\n      }\n\n      .anavo-menu-dropdown-item {\n        display: block !important;\n        padding: 12px 20px !important;\n        color: ${o} !important;\n        text-decoration: none !important;\n        font-size: ${Math.max(parseInt(t.fontSize)-2,12)}px !important;\n        font-family: ${e} !important;\n        font-weight: ${t.fontWeight} !important;\n        transition: opacity 0.2s !important;\n      }\n\n      .anavo-menu-dropdown-item:hover {\n        opacity: ${t.hoverOpacity} !important;\n      }\n\n      @media (max-width: 800px) and (min-width: 480px) {\n        nav.anavo-custom-menu {\n          gap: ${t.tabletSpacing} !important;\n          padding: 15px 1.5vw !important;\n        }\n\n        a.anavo-menu-link,\n        span.anavo-menu-link {\n          font-size: ${Math.max(parseInt(t.fontSize)-2,14)}px !important;\n          padding: 6px 10px !important;\n          padding-bottom: 10px !important;\n        }\n      }\n\n      @media (max-width: 479px) {\n        nav.anavo-custom-menu {\n          gap: ${t.mobileSpacing} !important;\n          padding: 12px 1vw !important;\n          flex-wrap: wrap !important;\n        }\n\n        a.anavo-menu-link,\n        span.anavo-menu-link {\n          font-size: ${Math.max(parseInt(t.fontSize)-4,12)}px !important;\n          padding: 6px 8px !important;\n          padding-bottom: 8px !important;\n        }\n\n        .anavo-menu-dropdown {\n          position: static !important;\n          box-shadow: none !important;\n          background: transparent !important;\n          opacity: 1 !important;\n          visibility: visible !important;\n          transform: none !important;\n          display: none !important;\n          padding: 0 !important;\n          margin-top: 8px !important;\n        }\n\n        .anavo-menu-folder.anavo-folder-open .anavo-menu-dropdown {\n          display: block !important;\n        }\n\n        .anavo-menu-dropdown-item {\n          padding: 8px 16px !important;\n          font-size: ${Math.max(parseInt(t.fontSize)-4,12)}px !important;\n        }\n\n\n/* FOR√áA ITENS COMPACTOS NO MOBILE - RESET TOTAL */\n\n  /* Reset completo do menu */\n  html body nav.anavo-custom-menu {\n    display: flex !important;\n    flex-direction: row !important;\n    flex-wrap: nowrap !important;\n    justify-content: flex-start !important;\n    align-items: center !important;\n    gap: 15px !important;\n    overflow-x: auto !important;\n    -webkit-overflow-scrolling: touch !important;\n    padding: 12px 15px !important;\n    width: 100% !important;\n    max-width: 100% !important;\n  }\n  \n  /* Esconde scrollbar */\n  html body nav.anavo-custom-menu::-webkit-scrollbar {\n    display: none !important;\n  }\n  \n  /* FOR√áA ITENS A TER APENAS TAMANHO DO CONTE√öDO */\n  html body div.anavo-menu-item {\n    flex: 0 0 auto !important;        /* N√ÉO cresce, N√ÉO encolhe */\n    flex-grow: 0 !important;\n    flex-shrink: 0 !important;\n    flex-basis: auto !important;\n    width: auto !important;           /* Apenas largura do conte√∫do */\n    min-width: 0 !important;\n    max-width: none !important;\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n  \n  /* FOR√áA LINKS COMPACTOS */\n  html body a.anavo-menu-link,\n  html body span.anavo-menu-link {\n    display: inline-block !important;\n    width: auto !important;           /* Apenas largura do texto */\n    min-width: 0 !important;\n    max-width: none !important;\n    padding: 8px 12px !important;     /* Padding compacto */\n    margin: 0 !important;\n    font-size: 14px !important;\n    white-space: nowrap !important;\n    box-sizing: border-box !important;\n  }\n\n        \n      }\n    `,document.head.appendChild(d),console.log("‚úÖ Injected custom styles")}(),e(i),"burger"===t.mobileMode&&function(){const n=document.getElementById("anavo-hide-squarespace-nav");n&&n.remove();const t=document.createElement("style");t.id="anavo-burger-mode",t.textContent="\n      @media (max-width: 800px) {\n        .anavo-menu-wrapper {\n          display: none !important;\n        }\n\n        .header-burger,\n        .header-menu {\n          display: block !important;\n          visibility: visible !important;\n        }\n      }\n    ",document.head.appendChild(t),console.log("‚úÖ Burger mode enabled")}(),setTimeout(o,500),setTimeout(o,1e3),console.log("‚úÖ Expanded Menu Plugin v2.1.4 Active!"),console.log("   Sticky Menu:",t.stickyMenu?"Enabled":"Disabled"),async function(){try{if(window.AnavoLicenseManager)return null;const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licensing.min.js",await new Promise((t,o)=>{n.onload=t,n.onerror=o,document.head.appendChild(n)});const t=new window.AnavoLicenseManager("ExpandedMenu","2.1.4",{licenseServer:"https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licenses.json",showUI:!0});if(await t.init(),!t.isLicensed){const n=document.querySelector(".header");n&&t.insertWatermark(n)}return t}catch(n){return console.warn("‚ö†Ô∏è License check failed:",n.message),null}}()}catch(n){console.error("‚ùå Plugin initialization failed:",n),console.error("Stack trace:",n.stack)}}console.log("‚öôÔ∏è Config:",t),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}();