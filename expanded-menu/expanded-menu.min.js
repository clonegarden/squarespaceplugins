!function(){"use strict";const n=document.currentScript||function(){const n=document.getElementsByTagName("script");return n[n.length-1]}();const e=function(){const e=n.src,a=new URL(e),o=new URLSearchParams(a.search);return{license:o.get("license")||"",containerWidth:o.get("containerWidth")||"100%",menuSpacing:o.get("menuSpacing")||"60px",tabletSpacing:o.get("tabletSpacing")||"30px",mobileSpacing:o.get("mobileSpacing")||"20px",centerMenu:"false"!==o.get("centerMenu"),mobileMode:o.get("mobileMode")||"custom"}}();function a(n){const e=document.querySelector(".header")||document.querySelector(".Header")||document.querySelector('[data-nc-group="header"]');if(!e)return void console.error("‚ùå Could not find header element");const a=document.createElement("div");a.className="anavo-menu-wrapper",a.innerHTML=n;const o=e.querySelector(".header-title-logo")||e.querySelector(".header-title");o&&o.parentNode?o.parentNode.insertBefore(a,o.nextSibling):e.appendChild(a),console.log("‚úÖ Custom menu inserted into header"),function(){const n=document.querySelectorAll(".anavo-menu-folder");n.forEach(e=>{const a=e.querySelector(".anavo-menu-folder-toggle"),o=e.querySelector(".anavo-menu-dropdown");a&&o&&a.addEventListener("click",a=>{window.innerWidth<=800&&(a.preventDefault(),e.classList.toggle("anavo-folder-open"),n.forEach(n=>{n!==e&&n.classList.remove("anavo-folder-open")}))})});const e="\n      @media (max-width: 800px) {\n        .anavo-menu-folder.anavo-folder-open .anavo-menu-dropdown {\n          opacity: 1;\n          visibility: visible;\n          transform: translateY(0);\n        }\n\n        .anavo-menu-folder.anavo-folder-open .anavo-menu-arrow {\n          transform: rotate(180deg);\n        }\n      }\n    ",a=document.createElement("style");a.textContent=e,document.head.appendChild(a)}()}async function o(){try{console.log("üîß Building custom menu...");const n=function(){const n=[],e=document.querySelector(".header-nav-list");return e?(e.querySelectorAll(".header-nav-item").forEach(e=>{const a=e.querySelector("a");if(!a)return;const o={text:a.textContent.trim(),href:a.getAttribute("href"),target:a.getAttribute("target")||"_self",isFolder:e.classList.contains("header-nav-item--folder"),isActive:e.classList.contains("header-nav-item--active"),children:[]};if(o.isFolder){const n=e.querySelector(".header-nav-folder-content");n&&n.querySelectorAll(".header-nav-folder-item a").forEach(n=>{o.children.push({text:n.textContent.trim(),href:n.getAttribute("href"),target:n.getAttribute("target")||"_self"})})}n.push(o)}),console.log(`‚úÖ Extracted ${n.length} menu items`),n):(console.error("‚ùå Could not find Squarespace navigation"),n)}();if(0===n.length)return void console.error("‚ùå No menu items found");const o=function(n){return`<nav class="anavo-custom-menu" role="navigation">${n.map((n,e)=>{if(n.isFolder&&n.children.length>0){const a=n.children.map(n=>`<a href="${n.href}" target="${n.target}" class="anavo-menu-dropdown-item">\n            ${n.text}\n          </a>`).join("");return`\n          <div class="anavo-menu-item anavo-menu-folder" data-folder-index="${e}">\n            <span class="anavo-menu-link anavo-menu-folder-toggle">\n              ${n.text}\n              <svg class="anavo-menu-arrow" width="10" height="6" viewBox="0 0 10 6">\n                <path d="M1 1l4 4 4-4" stroke="currentColor" fill="none" stroke-width="1.5"/>\n              </svg>\n            </span>\n            <div class="anavo-menu-dropdown">\n              ${a}\n            </div>\n          </div>\n        `}return`\n          <div class="anavo-menu-item ${n.isActive?"anavo-menu-item--active":""}">\n            <a href="${n.href}" target="${n.target}" class="anavo-menu-link">\n              ${n.text}\n            </a>\n          </div>\n        `}).join("")}</nav>`}(n);!function(){const n=document.createElement("style");n.id="anavo-hide-squarespace-nav",n.textContent='\n      /* Hide ALL Squarespace native navigation (7.0 & 7.1) */\n      .header-nav,\n      .header-nav-wrapper,\n      .header-nav-list,\n      .header-display-desktop,\n      .header-menu,\n      .header-menu-bg,\n      .header-menu-nav,\n      .header-menu-nav-wrapper,\n      .header-burger,\n      [data-nc-element="header-nav"],\n      [data-nc-group="header-nav"] {\n        display: none !important;\n        visibility: hidden !important;\n      }\n\n      /* Prevent body scroll lock */\n      body.mobile-nav-open,\n      body[data-mobile-nav-open="true"] {\n        overflow: auto !important;\n      }\n    ',document.head.appendChild(n),console.log("‚úÖ Hid all Squarespace navigation")}(),function(){const n=document.getElementById("anavo-expanded-menu-styles");n&&n.remove();const a=e.centerMenu?"\n      .anavo-custom-menu {\n        justify-content: center !important;\n      }\n    ":"",o=document.createElement("style");o.id="anavo-expanded-menu-styles",o.textContent=`\n      /* ========================================\n       * ANAVO CUSTOM MENU - v2.0.0\n       * ======================================== */\n\n      /* Menu container */\n      .anavo-custom-menu {\n        display: flex;\n        align-items: center;\n        gap: ${e.menuSpacing};\n        width: ${e.containerWidth};\n        max-width: ${e.containerWidth};\n        margin: 0 auto;\n        padding: 20px 2vw;\n        font-family: var(--heading-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);\n        ${a}\n      }\n\n      /* Menu item container */\n      .anavo-menu-item {\n        position: relative;\n        white-space: nowrap;\n      }\n\n      /* Menu links */\n      .anavo-menu-link {\n        display: inline-block;\n        padding: 8px 12px;\n        color: var(--menuTextColor, currentColor);\n        text-decoration: none;\n        font-weight: 500;\n        font-size: 1rem;\n        letter-spacing: 0.05em;\n        transition: color 0.2s ease, opacity 0.2s ease;\n        cursor: pointer;\n      }\n\n      .anavo-menu-link:hover {\n        opacity: 0.7;\n      }\n\n      /* Active state */\n      .anavo-menu-item--active .anavo-menu-link {\n        font-weight: 700;\n      }\n\n      /* Folder/Dropdown */\n      .anavo-menu-folder {\n        position: relative;\n      }\n\n      .anavo-menu-folder-toggle {\n        display: flex;\n        align-items: center;\n        gap: 5px;\n      }\n\n      .anavo-menu-arrow {\n        transition: transform 0.2s ease;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-arrow {\n        transform: rotate(180deg);\n      }\n\n      /* Dropdown content */\n      .anavo-menu-dropdown {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        min-width: 200px;\n        background: var(--white, #ffffff);\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        border-radius: 4px;\n        padding: 8px 0;\n        opacity: 0;\n        visibility: hidden;\n        transform: translateY(-10px);\n        transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s;\n        z-index: 1000;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-dropdown {\n        opacity: 1;\n        visibility: visible;\n        transform: translateY(0);\n      }\n\n      .anavo-menu-dropdown-item {\n        display: block;\n        padding: 12px 20px;\n        color: var(--menuTextColor, currentColor);\n        text-decoration: none;\n        font-size: 0.95rem;\n        transition: background 0.2s ease;\n      }\n\n      .anavo-menu-dropdown-item:hover {\n        background: var(--lightAccentColor, #f5f5f5);\n      }\n\n      /* ========================================\n       * RESPONSIVE BREAKPOINTS\n       * ======================================== */\n\n      /* TABLET (480px - 800px) - Reduced spacing, centered */\n      @media (max-width: 800px) and (min-width: 480px) {\n        .anavo-custom-menu {\n          gap: ${e.tabletSpacing};\n          padding: 15px 1.5vw;\n        }\n\n        .anavo-menu-link {\n          font-size: 0.95rem;\n          padding: 6px 10px;\n        }\n\n        .anavo-menu-dropdown {\n          min-width: 180px;\n        }\n      }\n\n      /* MOBILE (<480px) - Normal Squarespace spacing */\n      @media (max-width: 479px) {\n        .anavo-custom-menu {\n          gap: ${e.mobileSpacing};\n          padding: 12px 1vw;\n        }\n\n        .anavo-menu-link {\n          font-size: 0.9rem;\n          padding: 6px 8px;\n        }\n\n        .anavo-menu-dropdown {\n          min-width: 160px;\n          font-size: 0.85rem;\n        }\n\n        .anavo-menu-dropdown-item {\n          padding: 10px 16px;\n        }\n      }\n\n      /* EXTRA SMALL MOBILE (<360px) */\n      @media (max-width: 360px) {\n        .anavo-custom-menu {\n          gap: calc(${e.mobileSpacing} * 0.7);\n        }\n\n        .anavo-menu-link {\n          font-size: 0.85rem;\n          padding: 5px 6px;\n        }\n      }\n    `,document.head.appendChild(o),console.log("‚úÖ Custom menu styles injected")}(),a(o),"burger"===e.mobileMode&&function(){const n=document.getElementById("anavo-hide-squarespace-nav");n&&n.remove();const e=document.createElement("style");e.id="anavo-burger-mode",e.textContent="\n      @media (max-width: 800px) {\n        .anavo-custom-menu,\n        .anavo-menu-wrapper {\n          display: none !important;\n        }\n\n        /* Re-enable Squarespace burger menu */\n        .header-burger,\n        .header-menu,\n        .header-menu-nav-wrapper {\n          display: block !important;\n          visibility: visible !important;\n        }\n      }\n    ",document.head.appendChild(e),console.log("‚úÖ Burger mode enabled for mobile")}(),console.log("‚úÖ Expanded Menu Plugin v2.0.0 Active"),console.log("   Desktop Spacing:",e.menuSpacing),console.log("   Tablet Spacing:",e.tabletSpacing),console.log("   Mobile Spacing:",e.mobileSpacing),console.log("   Mobile Mode:",e.mobileMode),async function(){try{if(window.AnavoLicenseManager)return;const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licensing.min.js",await new Promise((e,a)=>{n.onload=e,n.onerror=a,document.head.appendChild(n)});const e=new window.AnavoLicenseManager("ExpandedMenu","2.0.0",{licenseServer:"https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licenses.json",showUI:!0});if(await e.init(),!e.isLicensed){const n=document.querySelector(".header");n&&e.insertWatermark(n)}}catch(n){console.warn("‚ö†Ô∏è License validation unavailable:",n.message)}}()}catch(n){console.error("‚ùå Plugin initialization failed:",n)}}console.log("üöÄ Expanded Menu Plugin v2.0.0 - Custom Menu Builder"),console.log("   Mode:",e.mobileMode),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}();