!function(){"use strict";const n="2.1.5";console.log(`üöÄ Expanded Menu Plugin v${n} - Starting...`);const t=document.currentScript||function(){const n=document.getElementsByTagName("script");return n[n.length-1]}();const o=function(){const n=t.src,o=new URL(n),i=new URLSearchParams(o.search);function e(n){return n?"transparent"===(n=decodeURIComponent(n)).toLowerCase()?"transparent":/^[0-9A-Fa-f]{6}$/.test(n)?"#"+n:(n.startsWith("#"),n):null}return{containerWidth:i.get("containerWidth")||"100%",menuSpacing:i.get("menuSpacing")||"60px",tabletSpacing:i.get("tabletSpacing")||"30px",mobileSpacing:i.get("mobileSpacing")||"20px",centerMenu:"false"!==i.get("centerMenu"),mobileMode:i.get("mobileMode")||"custom",mobileWrap:"true"===i.get("mobileWrap"),stickyMenu:"false"!==i.get("stickyMenu"),stickyTop:i.get("stickyTop")||"0",bgColor:e(i.get("bgColor")),fontColor:e(i.get("fontColor")),fontFamily:i.get("fontFamily")?decodeURIComponent(i.get("fontFamily")):null,fontSize:i.get("fontSize")||"16",fontWeight:i.get("fontWeight")||"500",hoverOpacity:i.get("hoverOpacity")||"0.7",itemBorderColor:e(i.get("itemBorderColor")),itemBorderWidth:i.get("itemBorderWidth")||"1",sectionBorderColor:e(i.get("sectionBorderColor")),sectionBorderWidth:i.get("sectionBorderWidth")||"1",showItemBorders:"false"!==i.get("showItemBorders"),showSectionBorder:"false"!==i.get("showSectionBorder"),dropdownBgColor:e(i.get("dropdownBgColor")),dropdownShadow:"false"!==i.get("dropdownShadow")}}();function i(){document.querySelectorAll('.header, .Header, header, [data-nc-group="header"]').forEach(n=>{n.style.cssText='\n        display: none !important;\n        visibility: hidden !important;\n        height: 5px !important;           /* ‚úÖ CORRIGIDO: Adicionado "px" */\n        min-height: 5px !important;        /* ‚úÖ CORRIGIDO */\n        max-height: 5px !important;        /* ‚úÖ CORRIGIDO */\n        padding: 0 !important;\n        margin: 0 !important;\n        position: fixed !important;\n        top: -5px !important;\n        left: 0 !important;\n        pointer-events: none !important;\n        overflow: hidden !important;\n      '}),document.body.style.paddingTop="0",document.body.style.marginTop="0";const n=document.querySelector("#page .page-section:first-child, .page-section:first-child");n&&(n.style.paddingTop="0",n.style.marginTop="0");const t=document.querySelector("#page");t&&(t.style.paddingTop="0",t.style.marginTop="0"),console.log("‚úÖ Forced header hiding via inline styles (Subtle Approach)")}async function e(){try{console.log("üîß Starting initialization..."),i();const t=await waitForSquarespaceNav();if(!t)return void console.error("‚ùå Failed to find Squarespace navigation - aborting");const e=extractMenuItems(t);if(0===e.length)return void console.error("‚ùå No menu items extracted - aborting");const a=buildCustomMenu(e);hideSquarespaceNav(),function(){if(document.getElementById("anavo-expanded-menu-styles"))return void console.log("‚ö†Ô∏è Styles already injected");const t=o.centerMenu?"\n      .anavo-custom-menu {\n        justify-content: center !important;\n      }\n    ":"",i=o.fontColor||"var(--menuTextColor, #000)",e=o.fontFamily||'var(--heading-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif)',a=o.itemBorderColor||"var(--lightAccentColor, #e8e8e8)",r=o.dropdownBgColor||"var(--white, #ffffff)",p=o.showItemBorders?`border-bottom: ${o.itemBorderWidth}px solid ${a} !important;`:"",m=o.dropdownShadow?"box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;":"box-shadow: none !important;",s=o.stickyMenu?`\n      position: fixed !important;\n      top: ${o.stickyTop}px !important;\n      left: 0 !important;\n      right: 0 !important;\n    `:"\n      position: relative !important;\n    ",d=document.createElement("style");d.id="anavo-expanded-menu-styles",d.textContent=`\n      /* ANAVO CUSTOM MENU v${n} - HORIZONTAL MOBILE MENU */\n      \n      div.anavo-menu-wrapper,\n      div[class*="anavo-menu"] {\n        display: block !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        width: 100% !important;\n        height: auto !important;\n        z-index: 99999 !important;\n        ${s}\n        overflow: visible !important;\n        clip: auto !important;\n        clip-path: none !important;\n        transform: none !important;\n      }\n\n      nav.anavo-custom-menu {\n        display: flex !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        align-items: center !important;\n        gap: ${o.menuSpacing} !important;\n        width: 100% !important;\n        max-width: ${o.containerWidth} !important;\n        margin: 0 auto !important;\n        padding: 20px 2vw !important;\n        font-family: ${e} !important;\n        min-height: 60px !important;\n        box-sizing: border-box !important;\n        ${t}\n      }\n\n      div.anavo-menu-item {\n        display: flex !important;\n        flex-direction: column !important;\n        align-items: center !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        position: relative !important;\n        white-space: nowrap !important;\n      }\n\n      a.anavo-menu-link,\n      span.anavo-menu-link {\n        display: inline-block !important;\n        visibility: visible !important;\n        opacity: 1 !important;\n        padding: 8px 12px !important;\n        padding-bottom: 12px !important;\n        color: ${i} !important;\n        text-decoration: none !important;\n        font-weight: ${o.fontWeight} !important;\n        font-size: ${o.fontSize}px !important;\n        font-family: ${e} !important;\n        letter-spacing: 0.05em !important;\n        transition: opacity 0.2s ease !important;\n        cursor: pointer !important;\n        ${p}\n        text-align: center !important;\n      }\n\n      a.anavo-menu-link:hover,\n      span.anavo-menu-link:hover {\n        opacity: ${o.hoverOpacity} !important;\n      }\n\n      .anavo-menu-item--active .anavo-menu-link {\n        font-weight: ${Math.min(parseInt(o.fontWeight)+200,900)} !important;\n      }\n\n      .anavo-menu-folder {\n        position: relative !important;\n      }\n\n      .anavo-menu-folder-toggle {\n        display: flex !important;\n        align-items: center !important;\n        gap: 5px !important;\n      }\n\n      .anavo-menu-arrow {\n        transition: transform 0.2s ease !important;\n        color: ${i} !important;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-arrow {\n        transform: rotate(180deg) !important;\n      }\n\n      .anavo-menu-dropdown {\n        position: absolute !important;\n        top: 100% !important;\n        left: 0 !important;\n        min-width: 200px !important;\n        background: ${r} !important;\n        ${m}\n        border-radius: 4px !important;\n        padding: 8px 0 !important;\n        opacity: 0 !important;\n        visibility: hidden !important;\n        transform: translateY(-10px) !important;\n        transition: opacity 0.2s, transform 0.2s, visibility 0.2s !important;\n        z-index: 100000 !important;\n      }\n\n      .anavo-menu-folder:hover .anavo-menu-dropdown {\n        opacity: 1 !important;\n        visibility: visible !important;\n        transform: translateY(0) !important;\n      }\n\n      .anavo-menu-dropdown-item {\n        display: block !important;\n        padding: 12px 20px !important;\n        color: ${i} !important;\n        text-decoration: none !important;\n        font-size: ${Math.max(parseInt(o.fontSize)-2,12)}px !important;\n        font-family: ${e} !important;\n        font-weight: ${o.fontWeight} !important;\n        transition: opacity 0.2s !important;\n      }\n\n      .anavo-menu-dropdown-item:hover {\n        opacity: ${o.hoverOpacity} !important;\n      }\n\n      /* TABLET */\n      @media (max-width: 800px) and (min-width: 480px) {\n        nav.anavo-custom-menu {\n          gap: ${o.tabletSpacing} !important;\n          padding: 15px 1.5vw !important;\n        }\n\n        a.anavo-menu-link,\n        span.anavo-menu-link {\n          font-size: ${Math.max(parseInt(o.fontSize)-2,14)}px !important;\n          padding: 6px 10px !important;\n          padding-bottom: 10px !important;\n        }\n      }\n\n      /* ‚úÖ MOBILE - CORRIGIDO: TODO CSS MOBILE AQUI DENTRO */\n      @media (max-width: 479px) {\n        /* Menu container - especificidade alta */\n        html body nav.anavo-custom-menu {\n          display: flex !important;\n          flex-direction: row !important;\n          flex-wrap: ${o.mobileWrap?"wrap":"nowrap"} !important;  /* ‚úÖ USA PAR√ÇMETRO */\n          justify-content: flex-start !important;\n          align-items: center !important;\n          gap: ${o.mobileSpacing} !important;  /* ‚úÖ USA PAR√ÇMETRO */\n          overflow-x: auto !important;\n          -webkit-overflow-scrolling: touch !important;\n          scrollbar-width: none !important;\n          padding: 12px 15px !important;\n          width: 100% !important;\n          max-width: 100% !important;\n        }\n        \n        /* Esconde scrollbar */\n        html body nav.anavo-custom-menu::-webkit-scrollbar {\n          display: none !important;\n        }\n        \n        /* Itens compactos */\n        html body div.anavo-menu-item {\n          flex: 0 0 auto !important;\n          flex-grow: 0 !important;\n          flex-shrink: 0 !important;\n          flex-basis: auto !important;\n          width: auto !important;\n          min-width: 0 !important;\n          max-width: none !important;\n          margin: 0 !important;\n          padding: 0 !important;\n        }\n        \n        /* Links compactos */\n        html body a.anavo-menu-link,\n        html body span.anavo-menu-link {\n          display: inline-block !important;\n          width: auto !important;\n          min-width: 0 !important;\n          max-width: none !important;\n          padding: 8px 12px !important;\n          margin: 0 !important;\n          font-size: ${Math.max(parseInt(o.fontSize)-4,12)}px !important;\n          white-space: nowrap !important;\n          box-sizing: border-box !important;\n        }\n\n        /* Dropdown no mobile */\n        .anavo-menu-dropdown {\n          position: static !important;\n          box-shadow: none !important;\n          background: transparent !important;\n          opacity: 1 !important;\n          visibility: visible !important;\n          transform: none !important;\n          display: none !important;\n          padding: 0 !important;\n          margin-top: 8px !important;\n        }\n\n        .anavo-menu-folder.anavo-folder-open .anavo-menu-dropdown {\n          display: block !important;\n        }\n\n        .anavo-menu-dropdown-item {\n          padding: 8px 16px !important;\n          font-size: ${Math.max(parseInt(o.fontSize)-4,12)}px !important;\n        }\n      }\n    `,document.head.appendChild(d),console.log("‚úÖ Injected custom styles")}(),insertCustomMenu(a),"burger"===o.mobileMode&&enableBurgerMode(),setTimeout(i,500),setTimeout(i,1e3),console.log(`‚úÖ Expanded Menu Plugin v${n} Active!`),console.log("   Sticky Menu:",o.stickyMenu?"Enabled":"Disabled"),console.log("   Mobile Wrap:",o.mobileWrap?"Vertical":"Horizontal"),async function(){try{if(window.AnavoLicenseManager)return null;const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licensing.min.js",await new Promise((n,o)=>{t.onload=n,t.onerror=o,document.head.appendChild(t)});const o=new window.AnavoLicenseManager("ExpandedMenu",n,{licenseServer:"https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licenses.json",showUI:!0});if(await o.init(),!o.isLicensed){const n=document.querySelector(".header");n&&o.insertWatermark(n)}return o}catch(n){return console.warn("‚ö†Ô∏è License check failed:",n.message),null}}()}catch(n){console.error("‚ùå Plugin initialization failed:",n),console.error("Stack trace:",n.stack)}}console.log("‚öôÔ∏è Config:",o),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();