!function(){"use strict";const e="1.0.0";console.log(`üé® ASCII Animation Plugin v${e} - Loading...`);const t=document.currentScript||function(){const e=document.getElementsByTagName("script");return e[e.length-1]}();const n=function(){const e=t.src,n=new URL(e),a=new URLSearchParams(n.search);return{characters:a.get("characters")||"ANAVOTECH",explodeText:a.get("explodeText")||"DESIGNCREATEINNOVATE",secondaryText:a.get("secondaryText")||"TECHNOLOGYANDART",tertiaryText:a.get("tertiaryText")||"CREATIONINNOVATIONART",position:a.get("position")||"first-section",targetId:a.get("targetId")||null,bgColor:a.get("bgColor")||"transparent",fontColor:a.get("fontColor")||"#000000",height:a.get("height")||"100vh",fontSize:a.get("fontSize")||"16",enableRain:"false"!==a.get("enableRain"),enableExplosion:"false"!==a.get("enableExplosion"),pulseAmount:a.get("pulseAmount")||"30",animationSpeed:a.get("animationSpeed")||"1"}}();function a(e){const{element:t,position:a}=function(){if(n.targetId){const e=document.getElementById(n.targetId);if(e)return console.log(`üìç Inserting into custom target: #${n.targetId}`),{element:e,position:"prepend"}}switch(n.position){case"first-section":{const e=document.querySelector(".page-section:first-of-type, section:first-of-type, main > div:first-child");if(e)return console.log("üìç Inserting before first section"),{element:e,position:"before"};break}case"before-footer":{const e=document.querySelector('footer, .footer, [data-nc-group="footer"]');if(e)return console.log("üìç Inserting before footer"),{element:e,position:"before"};break}case"after-header":{const e=document.querySelector('header, .header, [data-nc-group="header"]');if(e)return console.log("üìç Inserting after header"),{element:e,position:"after"};break}}return console.log("üìç Inserting at beginning of body (fallback)"),{element:document.body,position:"prepend"}}();switch(a){case"before":t.parentNode.insertBefore(e,t);break;case"after":t.parentNode.insertBefore(e,t.nextSibling);break;case"prepend":t.insertBefore(e,t.firstChild);break;default:t.appendChild(e)}console.log("‚úÖ ASCII Animation container inserted")}function o(e){const t=e.querySelector("#anavo-ascii-animation");if(!t)return void console.error("‚ùå Animation container not found");const a=function(){const e=parseFloat(n.animationSpeed);return[{numLetters:8,radius:430,characters:n.characters,explodeCharacters:n.explodeText,speed:.2*e,opacity:.0625},{numLetters:8,radius:400,characters:n.characters,explodeCharacters:n.secondaryText,speed:-.25*e,opacity:.0625},{numLetters:8,radius:370,characters:n.characters,explodeCharacters:n.tertiaryText,speed:.28*e,opacity:.0625},{numLetters:8,radius:340,characters:n.characters,explodeCharacters:n.explodeText,speed:.3*e,opacity:.125},{numLetters:8,radius:310,characters:n.characters,explodeCharacters:n.secondaryText,speed:-.35*e,opacity:.125},{numLetters:8,radius:280,characters:n.characters,explodeCharacters:n.tertiaryText,speed:.4*e,opacity:.125},{numLetters:8,radius:250,characters:n.characters,explodeCharacters:n.characters,speed:-.45*e,opacity:.125},{numLetters:Math.min(n.tertiaryText.length,22),radius:220,characters:n.tertiaryText,explodeCharacters:n.characters,speed:.5*e,opacity:.25},{numLetters:8,radius:180,characters:n.characters,explodeCharacters:n.explodeText,speed:.6*e,opacity:.25},{numLetters:8,radius:145,characters:n.characters,explodeCharacters:n.secondaryText,speed:-.5*e,opacity:.25},{numLetters:8,radius:110,characters:n.characters,explodeCharacters:n.tertiaryText,speed:.8*e,opacity:.25},{numLetters:8,radius:75,characters:n.characters,explodeCharacters:n.explodeText,speed:-.9*e,opacity:.25},{numLetters:8,radius:45,characters:n.characters,explodeCharacters:n.secondaryText,speed:1.1*e,opacity:.25},{numLetters:8,radius:15,characters:n.characters,explodeCharacters:n.tertiaryText,speed:-1.3*e,opacity:.25}]}(),o=parseInt(n.pulseAmount),i=[];let r=!1,s=0,c=!1,l=[],d=0,p=0,h=!1;function m(){const e=t.getBoundingClientRect().height;let a=!0;l.forEach(t=>{if(t.currentDelay>0)return void t.currentDelay--;t.y+=t.fallSpeed;const n=t.y/e,o=t.baseOpacity*(1-n);t.element.style.top=t.y+"px",t.element.style.opacity=Math.max(0,o),t.y<e+50&&(a=!1)}),a&&(c=!1,i.forEach(({element:e,baseOpacity:t})=>{e.style.transition="all 0.5s ease",e.style.fontSize=`${n.fontSize}px`,e.style.opacity=t}),l=[])}a.forEach((e,a)=>{for(let o=0;o<e.numLetters;o++){const r=document.createElement("span");r.textContent=e.characters[o%e.characters.length],r.style.position="absolute",r.style.fontFamily='"Syne Mono", monospace',r.style.fontSize=`${n.fontSize}px`,r.style.opacity=e.opacity,r.style.transition="all 0.3s ease",t.appendChild(r),i.push({element:r,circleIndex:a,letterIndex:o,baseAngle:o/e.numLetters*Math.PI*2,baseOpacity:e.opacity})}}),n.enableExplosion&&(t.addEventListener("mouseenter",()=>{h=!0}),t.addEventListener("mousemove",e=>{h=!0;const n=t.getBoundingClientRect();d=e.clientX-n.left-n.width/2,p=e.clientY-n.top-n.height/2}),t.addEventListener("mouseleave",()=>{h=!1,d=0,p=0,r=!1,s=0})),n.enableRain&&t.addEventListener("click",()=>{c||(c=!0,r=!1,s=0,l=i.map(({element:e,baseOpacity:a})=>{const o=t.getBoundingClientRect(),i=Math.random()*o.width,r=-50,s=.8+.4*Math.random(),c=parseInt(n.fontSize)*s,l=1+2*Math.random(),d=100*Math.random();return e.style.transition="none",e.style.left=i+"px",e.style.top=r+"px",e.style.fontSize=c+"px",e.style.transform="none",e.style.opacity=a,{element:e,x:i,y:r,fallSpeed:l,delay:d,baseOpacity:a,currentDelay:d}}))}),function e(){if(c)m();else{const e=Math.sqrt(d*d+p*p),t=110;n.enableExplosion&&h&&e<t&&!r&&(r=!0,s=0),r?(s+=.05,s>1&&(s=1)):s>0&&(s-=.05,s<0&&(s=0)),i.forEach(({element:t,circleIndex:n,letterIndex:i,baseAngle:c,baseOpacity:l})=>{const d=a[n];if(s>.3){const e=d.explodeCharacters;t.textContent=e[i%e.length]}else t.textContent=d.characters[i%d.characters.length];if(r||s>0){const e=d.radius+350*s,n=c+Date.now()/1e3*d.speed,a=Math.cos(n)*e,o=Math.sin(n)*e;t.style.left=`calc(50% + ${a}px)`,t.style.top=`calc(50% + ${o}px)`,t.style.opacity=l*(1-.7*s),t.style.transform=`translate(-50%, -50%) scale(${1+2*s}) rotate(${360*s}deg)`}else{const n=d.radius-Math.min(e/3,o),a=i/d.numLetters*Math.PI*2+Date.now()/1e3*d.speed,r=Math.cos(a)*n,s=Math.sin(a)*n;t.style.left=`calc(50% + ${r}px)`,t.style.top=`calc(50% + ${s}px)`,t.style.opacity=l,t.style.transform=`translate(-50%, -50%) scale(${1+e/1e3})`}})}requestAnimationFrame(e)}(),console.log("‚úÖ ASCII Animation initialized")}async function i(){try{console.log("üîß Starting ASCII Animation initialization..."),function(){if(document.getElementById("anavo-ascii-animation-styles"))return void console.log("‚ö†Ô∏è Styles already injected");const t=document.createElement("style");t.id="anavo-ascii-animation-styles",t.textContent=`\n      /* ANAVO ASCII ANIMATION v${e} */\n\n      #anavo-ascii-section {\n        position: relative;\n        width: 100%;\n        height: ${n.height};\n        overflow: visible !important;\n        background: ${n.bgColor};\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      #anavo-ascii-animation {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 1000px;\n        height: 1000px;\n        z-index: 1;\n        transition: transform 0.8s ease;\n      }\n\n      #anavo-ascii-animation span {\n        color: ${n.fontColor};\n        font-size: ${n.fontSize}px;\n      }\n\n      /* Responsive */\n      @media (max-width: 768px) {\n        #anavo-ascii-animation {\n          width: 90vw;\n          height: 90vw;\n          max-width: 600px;\n          max-height: 600px;\n        }\n\n        #anavo-ascii-animation span {\n          font-size: ${Math.max(parseInt(n.fontSize)-4,12)}px;\n        }\n      }\n\n      @media (max-width: 480px) {\n        #anavo-ascii-section {\n          height: ${"100vh"===n.height?"80vh":n.height};\n        }\n\n        #anavo-ascii-animation {\n          width: 95vw;\n          height: 95vw;\n          max-width: 400px;\n          max-height: 400px;\n        }\n\n        #anavo-ascii-animation span {\n          font-size: ${Math.max(parseInt(n.fontSize)-6,10)}px;\n        }\n      }\n    `,document.head.appendChild(t),console.log("‚úÖ ASCII Animation styles injected")}();const t=function(){const t=document.createElement("div");t.id="anavo-ascii-section",t.setAttribute("data-anavo-plugin","ascii-animation"),t.setAttribute("data-version",e);const n=document.createElement("div");return n.id="anavo-ascii-animation",t.appendChild(n),console.log("‚úÖ ASCII Animation container created"),t}();a(t),o(t),console.log(`‚úÖ ASCII Animation Plugin v${e} Active!`),console.log(`   Characters: ${n.characters}`),console.log(`   Position: ${n.position}`),console.log(`   Rain enabled: ${n.enableRain}`),console.log(`   Explosion enabled: ${n.enableExplosion}`),async function(){try{if(window.AnavoLicenseManager)return null;const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licensing.min.js",await new Promise((e,n)=>{t.onload=e,t.onerror=n,document.head.appendChild(t)});const n=new window.AnavoLicenseManager("ASCIIAnimation",e,{licenseServer:"https://cdn.jsdelivr.net/gh/clonegarden/squarespaceplugins@latest/_shared/licenses.json",showUI:!0});if(await n.init(),!n.isLicensed){const e=document.getElementById("anavo-ascii-section");e&&n.insertWatermark(e)}return n}catch(e){return console.warn("‚ö†Ô∏è License check failed:",e.message),null}}()}catch(e){console.error("‚ùå ASCII Animation initialization failed:",e),console.error("Stack trace:",e.stack)}}console.log("‚öôÔ∏è ASCII Animation Config:",n),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()}();